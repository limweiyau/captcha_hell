/* =========================================================================
   Minimal premium dark theme
   ========================================================================= */
:root{
  --bg:#121722;
  --panel:#1b2230;
  --text:#e7ecff;
  --accent:#8ad3ff;
  --danger:#ff6f6f;
  --radius:8px;
  --shadow:0 8px 24px rgba(0,0,0,.35);
  --transition:180ms ease;
  font-size:16px;
}
*{box-sizing:border-box;font-family:system-ui, sans-serif;}
body{margin:0;min-height:100vh;display:grid;place-items:center;background:var(--bg);color:var(--text);}

/* ------- main card ------- */
#app{
  width:min(420px,95vw);
  padding:2rem;
  background:var(--panel);
  border-radius:var(--radius);
  box-shadow:var(--shadow);
}
h2{margin:.2rem 0 1rem;font-size:1.4rem;text-align:center;}
p{text-align:center;line-height:1.5}

/* ------- generic button ------- */
.btn{
  display:inline-block;margin:1rem auto 0;padding:.6rem 1.2rem;
  border:0;border-radius:var(--radius);background:var(--accent);color:#000;
  font-weight:600;cursor:pointer;transition:transform var(--transition);
}
.btn:hover{transform:translateY(-2px);}

/* ------- shared util ------- */
.center{text-align:center;}
.grid-3x3{display:grid;grid-template-columns:repeat(3,1fr);gap:6px;margin-top:1rem;}
.color-box{width:100%;aspect-ratio:1;border-radius:var(--radius);cursor:pointer;}
/* moving target reused later */
.moving-target{width:60px;height:60px;border-radius:50%;position:relative;}

/* ------- error banner ------- */
#error{
  position:fixed;top:24px;left:50%;transform:translateX(-50%);
  background:var(--danger);color:#000;padding:.8rem 1.2rem;
  border-radius:var(--radius);box-shadow:var(--shadow);max-width:90vw;
  z-index:100;white-space:pre-wrap;text-align:center;
}

/* ------- input style ------- */
input[type="text"] {
  width: 100%;
  margin-top: 1rem;
  padding: 0.6rem 0.8rem;
  background: rgba(255,255,255,0.05);
  color: var(--text);
  border: 1px solid rgba(255,255,255,0.15);
  border-radius: var(--radius);
  font-size: 1rem;
  outline: none;
  transition: border-color var(--transition);
}

input[type="text"]:focus {
  border-color: var(--accent);
  background: rgba(255,255,255,0.08);
}

/* ===== Chat bubbles for Stage 3 ===== */
.chatbox{
  max-height:260px; overflow-y:auto; margin-bottom:1rem;
  border:1px solid rgba(255,255,255,.1); padding:.8rem; border-radius:var(--radius);
}
.bubble{padding:.4rem .6rem; border-radius:var(--radius); margin:.4rem 0; line-height:1.4}
.bubble.user{background:rgba(138,211,255,.12); align-self:flex-end;}
.bubble.ai  {background:rgba(255,255,255,.05);}
